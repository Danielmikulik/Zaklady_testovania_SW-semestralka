*** Settings ***
Documentation                                      Testovanie prihlasovania a registrácie
Library                                            SeleniumLibrary

*** Variables ***
${url}                                              http://localhost/AkoNaTo/public/guide
${url_login}                                        http://localhost/AkoNaTo/public/login
${browser}                                          chrome
${text}                                             xpath=//*[@name="q"]
${guide}                                            guide_326
${email_suc}                                        admin@admin.com
${password}                                         password
${email_fail}                                       abcd@abcd.com
${email_registration}                               mail@mail.com
${name}                                             Test Name
${register button}                                  xpath=//*[@id="app"]/main/div/div/div/div/div[2]/form/div[5]/div/button

*** Test Cases ***

Login uspesny
    [Documentation]                                 úspešné prihlásenie ako admin
    Login_uspesny       ${email_suc}  ${password}

Login neuspesny
    [Documentation]                                 neúspešné prihlásenie s chybnymi udajmi
    Login_neuspesny     ${email_fail}  ${password}

Login prazdny
    [Documentation]                                 neúspešné prihlásenie bez vyplnenia údajov
    Login_prazdny

Registracia
    [Documentation]                                 Registracia noveho pouzivatela
    Registracia     ${name}   ${email_registration}   ${password}

*** Keywords ***
Zobrazenie detailu návodu
    [Documentation]                                 Open AkoNaTo
    open browser                                    ${URL}    ${browser}
    click element                                   ${guide}
    sleep     3s
    Close Browser

Login_uspesny
    [arguments]     ${arg1}  ${arg2}
    open browser                                    ${URL}  ${browser}
    click element                                   login
    input text                                      email       ${arg1}
    input text                                      password    ${arg2}
    click button                                    Login
    #click element                                   navbarDropdown
    #click element                                   //a[contains(text(),'Logout')]

Login_neuspesny
    [arguments]     ${arg1}  ${arg2}
    open browser                                    ${URL}  ${browser}
    click element                                   login
    input text                                      email       ${arg1}
    input text                                      password    ${arg2}
    click button                                    Login
    Wait Until Page Contains                        These credentials do not match our records.


Login_prazdny
    open browser                                    ${url_login}  ${browser}
    click element                                   login
    click button                                    Login
    ${validation_message} =    Execute Javascript   document.getElementById("email").getAttribute("validationMessage");
    run keyword if  "${validation_message}" == ""  Fatal Error     Login prebehol

Registracia
    [arguments]     ${arg1}  ${arg2}   ${arg3}
    open browser                                    ${URL}  ${browser}
    click element                                   register
    input text                                      name       ${arg1}
    input text                                      email      ${arg2}
    input password                                  password   ${arg3}
    input password                                  password-confirm   ${arg3}
    click button                                    ${register button}
