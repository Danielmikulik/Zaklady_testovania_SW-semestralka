*** Settings ***
Documentation                                      Testovanie správneho zobrazovania návodov
Library                                            SeleniumLibrary
Library                                            String

*** Variables ***
${url}                                              http://localhost/AkoNaTo/public/showAuthorsGuides/11
${browser}                                          chrome

*** Test Cases ***
Scroll
    open browser            ${url}  ${browser}

    ${guide_counter}=               Get Text    xpath=//*[@id="guideCounter"]
    ${text_of_guides_total}=        Fetch From Right    ${guide_counter}    ${space}
    ${number_of_guides_total}=      Convert to integer  ${text_of_guides_total}

    FOR     ${i}    IN RANGE    1   99999
        ${guide_counter}=               Get Text    xpath=//*[@id="guideCounter"]
        Exit For Loop If                "${guide_counter}" == "${text_of_guides_total} z ${text_of_guides_total}"
        execute javascript              window.scrollTo(0,document.body.scrollHeight)
    END

    execute javascript              window.scrollTo(0,document.body.scrollHeight)

    ${count}=    Get Element Count    //div[@id='data']/*
    Log to console  ${count}
    run keyword if      ${count} != ${number_of_guides_total}   Fatal Error     Count of guides doesnt match the expected count

